(function(a){a.fn.stickyscroll=function(b){if(!this.length){return this}b=a.extend({fixedTop:0,fixedBottom:0},b||{});this.each(function(){var g=this,h=false,k=false,f=b.fixedTop||0,i=b.fixedBottom||0,j=0;if(!a.isNumeric(b.fixedTop)){f=0;a(b.fixedTop).each(function(){f+=a(this).outerHeight()})}if(!a.isNumeric(b.fixedBottom)){i=0;a(b.fixedBottom).each(function(){i+=a(this).outerHeight()})}var l=a(this).css({width:a(this).width(),height:a(this).height()}),e={top:l.offset().top,width:l.width()},c=l.wrapInner('<div class="floater"></div>').find("> .floater"),d=function(){h=a("body").height()>=a(window).height();k=c.outerHeight()>(a(window).height()-f-i)};c.css({position:"fixed",inset:"visible",left:e.left,top:e.top,width:e.width});a(window).on("ready.stickyscroll load.stickyscroll resize.stickyscroll",function(){d()});a(window).on("scroll.stickyscroll touchmove.stickyscroll load.stickyscroll",function(){if(h){if(k){e.height=c.outerHeight();var q=c.offset().top,p=a(this).scrollTop()+f,m=a(this).height(),o={top:q-p,bottom:m-(q-p+e.height)-f-i};if(p>j){var n=l.outerHeight();if(p>e.top+n-m+f+i){c.css({position:"absolute",top:e.top+n-e.height})}else{if(o.bottom<0){c.css({position:"absolute",top:q})}else{c.css({position:"fixed",top:Math.max(o.top,m-e.height)-i})}}}else{if(p<j){if(p<e.top){c.css({position:"absolute",top:e.top})}else{if(o.top<0){c.css({position:"absolute",top:q})}else{c.css({position:"fixed",top:Math.min(0,o.top)+f})}}}}}else{c.css({position:"fixed",top:e.top})}}else{c.css({position:"static"})}j=p})})}})(jQuery);